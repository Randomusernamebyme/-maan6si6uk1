(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[772],{3732:function(e,s,r){Promise.resolve().then(r.bind(r,7432))},7432:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return u}});var n=r(7437),t=r(2265),l=r(5978),a=r(4257),i=r(6070),d=r(492),c=r(7648);function u(){let[e,s]=(0,t.useState)({pendingRequests:0,pendingVolunteers:0,inProgressRequests:0,totalVolunteers:0}),[r,u]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{try{let e=(0,l.IO)((0,l.hJ)(a.db,"requests"),(0,l.ar)("status","==","pending")),r=await (0,l.PL)(e),n=(0,l.IO)((0,l.hJ)(a.db,"users"),(0,l.ar)("role","==","volunteer"),(0,l.ar)("status","==","pending")),t=await (0,l.PL)(n),i=(0,l.IO)((0,l.hJ)(a.db,"requests"),(0,l.ar)("status","==","matched")),d=await (0,l.PL)(i),c=(0,l.IO)((0,l.hJ)(a.db,"users"),(0,l.ar)("role","==","volunteer")),u=await (0,l.PL)(c);s({pendingRequests:r.size,pendingVolunteers:t.size,inProgressRequests:d.size,totalVolunteers:u.size})}catch(e){console.error("Error fetching stats:",e)}finally{u(!1)}})()},[]),r)?(0,n.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,n.jsx)(d.g,{size:"lg"})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"統計概覽"}),(0,n.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,n.jsx)(i.Zb,{children:(0,n.jsxs)(i.Ol,{className:"pb-2",children:[(0,n.jsx)(i.SZ,{children:"待審核委托"}),(0,n.jsx)(i.ll,{className:"text-3xl",children:e.pendingRequests})]})}),(0,n.jsx)(i.Zb,{children:(0,n.jsxs)(i.Ol,{className:"pb-2",children:[(0,n.jsx)(i.SZ,{children:"待審核義工"}),(0,n.jsx)(i.ll,{className:"text-3xl",children:e.pendingVolunteers})]})}),(0,n.jsx)(i.Zb,{children:(0,n.jsxs)(i.Ol,{className:"pb-2",children:[(0,n.jsx)(i.SZ,{children:"進行中委托"}),(0,n.jsx)(i.ll,{className:"text-3xl",children:e.inProgressRequests})]})}),(0,n.jsx)(i.Zb,{children:(0,n.jsxs)(i.Ol,{className:"pb-2",children:[(0,n.jsx)(i.SZ,{children:"總義工人數"}),(0,n.jsx)(i.ll,{className:"text-3xl",children:e.totalVolunteers})]})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"快捷操作"}),(0,n.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,n.jsx)(i.Zb,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:(0,n.jsx)(c.default,{href:"/admin/requests?status=pending",children:(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"查看待審核委托"}),(0,n.jsxs)(i.SZ,{children:["目前有 ",e.pendingRequests," 個委托待審核"]})]})})}),(0,n.jsx)(i.Zb,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:(0,n.jsx)(c.default,{href:"/admin/volunteers?status=pending",children:(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"查看待審核義工"}),(0,n.jsxs)(i.SZ,{children:["目前有 ",e.pendingVolunteers," 位義工待審核"]})]})})}),(0,n.jsx)(i.Zb,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:(0,n.jsx)(c.default,{href:"/admin/applications",children:(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"查看最新報名"}),(0,n.jsx)(i.SZ,{children:"查看所有義工的報名記錄"})]})})})]})]})]})}},6070:function(e,s,r){"use strict";r.d(s,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return a},aY:function(){return u},ll:function(){return d}});var n=r(7437),t=r(2265),l=r(4508);let a=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,n.jsx)("div",{ref:s,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...t})});a.displayName="Card";let i=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,n.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...t})});i.displayName="CardHeader";let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,n.jsx)("div",{ref:s,className:(0,l.cn)("font-semibold leading-none tracking-tight",r),...t})});d.displayName="CardTitle";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,n.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...t})});c.displayName="CardDescription";let u=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,n.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",r),...t})});u.displayName="CardContent",t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,n.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",r),...t})}).displayName="CardFooter"},492:function(e,s,r){"use strict";r.d(s,{g:function(){return l},h:function(){return a}});var n=r(7437),t=r(4508);function l(e){let{className:s,size:r="md"}=e;return(0,n.jsx)("div",{className:(0,t.cn)("flex items-center justify-center",s),children:(0,n.jsx)("div",{className:(0,t.cn)("animate-spin rounded-full border-2 border-muted border-t-foreground",{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[r])})})}function a(){return(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,n.jsx)(l,{size:"lg"})})}},4257:function(e,s,r){"use strict";let n;r.d(s,{I:function(){return i},db:function(){return d}});var t=r(738),l=r(3301),a=r(5978);n=0===(0,t.C6)().length?(0,t.ZF)({apiKey:"AIzaSyCRZrcO60pVOmgG2PPE5j-OLAKnsyNQk6A",authDomain:"maan6si6uk1.firebaseapp.com",projectId:"maan6si6uk1",storageBucket:"maan6si6uk1.firebasestorage.app",messagingSenderId:"349293937280",appId:"1:349293937280:web:ca2f091d1107bae7e09c65",measurementId:"G-4LWCWNPHB2"}):(0,t.C6)()[0];let i=(0,l.v0)(n),d=(0,a.ad)(n)},4508:function(e,s,r){"use strict";r.d(s,{cn:function(){return l}});var n=r(1994),t=r(3335);function l(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,t.m6)((0,n.W)(s))}},7648:function(e,s,r){"use strict";r.d(s,{default:function(){return t.a}});var n=r(2972),t=r.n(n)}},function(e){e.O(0,[358,139,137,943,972,971,117,744],function(){return e(e.s=3732)}),_N_E=e.O()}]);